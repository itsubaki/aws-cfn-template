# Immutable system on aws

## 解決したいもの

1. 環境構築の再現性を100%にする
2. 開発環境と本番環境を同じにする

## 解決方法

1. ゼロから1ステップでシステム構築可能にする
 + 前提条件はAWSアカウントのみとする
2. システム全体のバージョンを管理する
 + 開発環境で任意のバージョンを構築する
 + 本番環境で複数のバージョンを同時に構築する

# 基本

## レイヤー

+ システムを以下のレイヤーに分けて考える
 - インフラ（AWSリソース）
 - ミドルウェア(運用・監視ツール含む)
 - アプリケーション

## CloudFormation

 + 1ステップ=CloudFormationのcreate Stack
  - YAML形式で記述する
  - JSON形式は人間には記述しにくい/コメントが書けない
 + 下の層から組み立てる
  - IAM→NW→RDS系→ミドルウェア系→アプリ系

## バージョン管理

 + システム全体のバージョンとは
  - AWSリソースのバージョン
  - ミドルウェアのバージョン
  - アプリケーションのバージョン

## AWSリソース

 + RDSはAuroraを選ぶ
  - 真のフルマネージドRDB
  - 障害にとても強い
 + EC2よりECSを選ぶ
  - Immutable
 + アカウント体系
 + ネットワーク体系

# インフラ

# ミドルウェア

# アプリケーション
