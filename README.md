# Immutable system on aws

## 解決したいもの

1. 環境構築の再現性を100%にする
2. 開発環境と本番環境を同じにする

## 解決方法

1. AWSアカウント作成後に1ボタンでシステム構築可能にする
2. システム全体のバージョンを管理する
 + 開発環境で任意のバージョンを構築する
 + 本番環境で複数のバージョンを同時に構築する

# 基本

## レイヤー

+ システムを以下のレイヤーに分けて考える
 - インフラ（AWSリソース）
 - ミドルウェア(運用・監視ツール含む)
 - アプリケーション

## CloudFormation

 + CloudFormationでシステム構築を行う
  - Yaml形式で記述する
  - JSON形式は人間には記述しにくい/コメントが書けない
 + IAMアカウント及びVPCの作成から行う
 + 下の層から組み立てる
  1. アカウント
  2. ネットワーク
  3. S3
  4. RDS, ElastiCache等
  5. ミドルウェア
  6. アプリケーション
  7. ...

## バージョン管理

 + システム全体のバージョンとは
  - AWSリソースのバージョン
  - ミドルウェアのバージョン
  - アプリケーションのバージョン

# インフラ

# ミドルウェア

# アプリケーション
